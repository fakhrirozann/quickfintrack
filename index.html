<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover" />
  <title>QuickLog</title>
  <base href="/quickfintrack/" />
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./service-worker.js');
  }
</script>

</head>
<body>
  <main class="app">
    <header class="app-header">
      <h1 id="page-title">Quick Log</h1>
    </header>

    <section id="content" class="content">
      <!-- Quick Log view (wizard) -->
      <div id="quick-view" class="view active">
        <div class="card">
          <div class="field-area">
            <!-- Each field group shown one at a time -->
            <div class="step" data-step="amount">
              <label class="label">Nominal</label>
              <input id="amount" inputmode="numeric" type="number" placeholder="Contoh: 25000" autocomplete="off" />
              <div class="hint">Ketik jumlah lalu tekan Enter</div>
            </div>

            <div class="step" data-step="item">
              <label class="label">Item (wajib)</label>
              <input id="item" type="text" placeholder="Contoh: Soto ayam" autocomplete="off" />
              <div class="hint">Nama barang atau transaksi</div>
            </div>

            <div class="step" data-step="category">
              <label class="label">Kategori (wajib)</label>
              <!-- editable dropdown using datalist -->
              <input id="category" list="category-list" type="text" placeholder="Pilih atau ketik kategori baru" autocomplete="off" />
              <datalist id="category-list"></datalist>
              <div class="hint">Kategori akan otomatis tersimpan jika baru</div>
            </div>

            <div class="step" data-step="datetime">
              <label class="label">Tanggal & Waktu</label>
              <input id="datetime" type="datetime-local" />
              <div class="hint">Default: sekarang (bisa diubah)</div>
            </div>

            <div class="step" data-step="location">
              <label class="label">Lokasi (opsional)</label>
              <input id="location" type="text" placeholder="Boleh kosong atau tekan 'Gunakan Lokasi'" autocomplete="off" />
              <div class="row" style="gap:8px;margin-top:10px;">
                <button id="get-location" type="button" class="btn small">Gunakan Lokasi</button>
                <button id="skip-location" type="button" class="btn small ghost">Lewati</button>
              </div>
              <div class="hint">Lokasi tidak wajib</div>
            </div>

            <div class="step" data-step="done">
              <div class="done-box">
                <div class="done-text">Semua data siap disimpan</div>
                <button id="save-btn" class="btn">Simpan</button>
              </div>
            </div>
          </div>
        </div>

        <!-- kecil feedback -->
        <div id="toast" class="toast">‚úÖ Disimpan</div>
      </div>

      <!-- Log view -->
      <div id="log-view" class="view">
        <div class="log-actions">
          <button id="download-csv" class="btn">Download CSV</button>
          <button id="clear-all" class="btn ghost">Hapus Semua</button>
        </div>

        <div id="log-list" class="log-list"></div>

        <div class="empty" id="empty-log">Belum ada transaksi.</div>
      </div>
    </section>

    <!-- bottom nav -->
    <nav class="bottom-nav">
      <button id="nav-quick" class="nav-btn active">
        <span>üìù</span>
        <small>Quick Log</small>
      </button>
      <button id="nav-log" class="nav-btn">
        <span>üìã</span>
        <small>Log</small>
      </button>
    </nav>
  </main>

  <script src="script.js"></script>
</body>
</html>
